<!DOCTYPE html>
<!--suppress ALL -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>snap</title>
    <script src="snap.svg-min.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
</head>
<body>
<svg id="mom" width="400" height="300"></svg>
<svg id="dad" width="400" height="300"></svg><br>
<input type="button" id="breed" value="Breed">
<svg id="child" width="400" height="300"></svg>
<!--<script src="prototypeCopy.js"></script>-->


<!--<script>-->
    <!--(function () {-->
        <!--var palette = {-->
            <!--'point': "#e4d5bd",-->
            <!--'white': "#f3efea",-->
            <!--'black': "#252525",-->
            <!--'blacktabby': "#83745c",-->
            <!--'blacktabbypoint': "#9c8a6f",-->
            <!--'blackpoint': "#393027",-->
            <!--'blackdilute': "#929292",-->
            <!--'blackdilutetabby': "#b3b1ac",-->
            <!--'blackdilutetabbypoint': "#b3b1ac",-->
            <!--'blackdilutepoint': "#929292",-->
            <!--'red': "#a75a13",-->
            <!--'redtabby': "#cb8e55",-->
            <!--'redtabbypoint': "#cb8e55",-->
            <!--'redpoint': "#a75a13",-->
            <!--'reddilute': "#cda284",-->
            <!--'reddilutetabby': "#e0bfa4",-->
            <!--'reddilutetabbypoint': "#e0bfa4",-->
            <!--'reddilutepoint': "#cda284",-->
            <!--'blue': "#46a2cc",-->
            <!--'yellow': "#dfb305"-->
        <!--};-->
        <!--var spriteSheet;-->

        <!--var canvas = Snap("#target");-->
        <!--Snap.load("spritesheet clean.svg", function (loadedFragment) {-->
<!--//            var genotype = randomGenotype();-->
<!--//-->
<!--//            var earGene = countSetBits((genotype >> 22) & 0xF);-->
<!--//            var headGene = countSetBits((genotype >> 18) & 0xF);-->
<!--//            var eyeGene = countSetBits((genotype >> 14) & 0xF);-->
<!--//            var muzzleGene = countSetBits((genotype >> 10) & 0xF);-->
<!--//-->
<!--//            var earElement = ".ears" + (earGene + 1);-->
<!--//            var headElement = ".head" + (headGene + 1);-->
<!--//            var eyeElement = ".eyes" + (eyeGene + 1);-->
<!--//            var muzzleElement = ".muzzle" + (muzzleGene + 1);-->
<!--//            var lineElement = ".lines" + (headGene + 1);-->
<!--//-->
<!--//            var pointGene = countSetBits((genotype >> 8) & 0x3);-->
<!--//            var whiteGene = countSetBits((genotype >> 6) & 0x3);-->
<!--//            var tabbyGene = countSetBits((genotype >> 4) & 0x3);-->
<!--//            var diluteGene = countSetBits((genotype >> 2) & 0x3);-->
<!--//            var redGene = countSetBits(genotype & 0x3);-->
<!--//-->
<!--//            var baseColor = "black";-->
<!--//            var eyeColor = "yellow";-->
<!--//            var headColor;-->
<!--//            var muzzleColor;-->
<!--//            var jawColor;-->
<!--//            var rightEarColor;-->
<!--//-->
<!--//            if (redGene === 2) {-->
<!--//                baseColor = "red";-->
<!--//            }-->
<!--//            if (diluteGene === 2) {-->
<!--//                baseColor += "dilute";-->
<!--//            }-->
<!--//            if (tabbyGene > 0) {-->
<!--//                baseColor += "tabby";-->
<!--//            }-->
<!--//            if (pointGene === 2) {-->
<!--//                baseColor += "point";-->
<!--//            }-->
<!--//-->
<!--//            if (redGene === 1) {-->
<!--//                rightEarColor = baseColor.replace("black", "red");-->
<!--//            }-->
<!--//            else {-->
<!--//                rightEarColor = baseColor;-->
<!--//            }-->
<!--//-->
<!--//            if (pointGene === 2) {-->
<!--//                headColor = "point";-->
<!--//            }-->
<!--//            else {-->
<!--//                headColor = baseColor;-->
<!--//            }-->
<!--//-->
<!--//            if (whiteGene > 0) {-->
<!--//                muzzleColor = 'white';-->
<!--//                jawColor = muzzleColor;-->
<!--//            }-->
<!--//            else if (redGene === 1) {-->
<!--//                muzzleColor = baseColor;-->
<!--//                jawColor = rightEarColor;-->
<!--//            }-->
<!--//            else {-->
<!--//                muzzleColor = baseColor;-->
<!--//                jawColor = baseColor;-->
<!--//            }-->
<!--//-->
<!--//            if (pointGene === 2 || whiteGene === 2) {-->
<!--//                eyeColor = "blue";-->
<!--//            }-->
<!--//-->
<!--//-->
<!--//            baseColor = palette[baseColor];-->
<!--//            eyeColor = palette[eyeColor];-->
<!--//            headColor = palette[headColor];-->
<!--//            muzzleColor = palette[muzzleColor];-->
<!--//            jawColor = palette[jawColor];-->
<!--//            rightEarColor = palette[rightEarColor];-->
<!--//-->
<!--//-->
<!--//            var ears = sprite.select(earElement).clone();-->
<!--//            var head = sprite.select(headElement).clone();-->
<!--//            var eyes = sprite.select(eyeElement).clone();-->
<!--//            var lines = sprite.select(lineElement).clone();-->
<!--//            var muzzle = sprite.select(muzzleElement).clone();-->
<!--//-->
<!--//-->
<!--//            var point = sprite.select(".point").clone();-->
<!--//            var tabby = sprite.select(".tabby").clone();-->
<!--//            var tortie = sprite.select(".tortie").clone();-->
<!--//            var torbie = sprite.select(".torbie").clone();-->
<!--//            var white = sprite.select(".lowwhite").clone();-->
<!--//-->
<!--//            var headMask = canvas.g(lines.clone().attr({'fill': "#fff"}));-->
<!--//            var pointMask = canvas.g();-->
<!--//            var tortieMask = canvas.g();-->
<!--//-->
<!--//            var markings = canvas.g();-->
<!--//            var torbieMarkings = canvas.g();-->
<!--//            var whiteMarkings = canvas.g();-->
<!--//-->
<!--//            if(tabbyGene > 0) {-->
<!--//                var tabbyColor;-->
<!--//-->
<!--//                if(redGene === 2) {-->
<!--//                    tabbyColor += "red";-->
<!--//                }-->
<!--//                else {-->
<!--//                    tabbyColor += "black";-->
<!--//                }-->
<!--////                if-->
<!--////-->
<!--////                markings.append();-->
<!--//            }-->
<!--//-->
<!--//            if(redGene === 1) {-->
<!--//                var tortieColor = "red";-->
<!--//-->
<!--//                if(tabbyGene > 0) {-->
<!--//                    torbieMarkings.append(sprite.select(".torbie").clone().attr({'fill': palette[tortieColor]}));-->
<!--//                    tortieColor += "tabby";-->
<!--//                }-->
<!--//-->
<!--//                markings.append(sprite.select(".tortie").clone().attr({'fill': palette[tortieColor]}));-->
<!--//                markings.append(torbieMarkings);-->
<!--//                tortieMask.append(tortie.clone().attr({'fill': "#fff"}));-->
<!--//            }-->
<!--//-->
<!--//-->
<!--//-->
<!--//            if(whiteGene === 1) {-->
<!--//                whiteMarkings.append(sprite.select(".lowwhite").clone().attr({'fill': palette['white']}));-->
<!--//            }-->
<!--//            else if(whiteGene === 2) {-->
<!--//                whiteMarkings.append(sprite.select(".highwhite").clone().attr({'fill': palette['white']}));-->
<!--//            }-->
<!--//-->
<!--//-->
<!--//            ears.select(".left").attr({'fill': baseColor});-->
<!--//            ears.select(".right").attr({'fill': rightEarColor});-->
<!--//            head.attr({'fill': headColor});-->
<!--//            eyes.select(".iris").attr({'fill': eyeColor});-->
<!--//            muzzle.select(".lips").attr({'fill': muzzleColor});-->
<!--//            muzzle.select(".jaw").attr({'fill': jawColor});-->
<!--//-->
<!--//-->
<!--//            canvas.append(ears);-->
<!--//            canvas.append(head);-->
<!--////            canvas.append(point);-->
<!--////            canvas.append(pointMarkings);-->
<!--//            canvas.append(markings);-->
<!--//            canvas.append(whiteMarkings);-->
<!--//            canvas.append(eyes);-->
<!--//            canvas.append(lines);-->
<!--//            canvas.append(muzzle);-->
<!--//            markings.attr({'mask': headMask.clone()});-->
<!--//            torbieMarkings.attr({'mask': tortieMask});-->
<!--////            pointMarkings.attr({'mask': pointMask});-->
<!--//            whiteMarkings.attr({'mask': headMask})-->

            <!--spriteSheet = loadedFragment;-->
            <!--var cat = new Cat(randomGenotype());-->
            <!--canvas.append(cat.svg);-->
        <!--});-->

        <!--function Cat(genotype) {-->
            <!--this.genotype = genotype;-->
            <!--this.dilute = countSetBits(genotype & 3);-->
            <!--this.tabby = countSetBits((genotype >> 2) & 3);-->
            <!--this.red = countSetBits((genotype >> 4) & 3);-->
            <!--this.white = countSetBits((genotype >> 6) & 3);-->
            <!--this.point = countSetBits((genotype >> 8) & 3);-->
            <!--this.muzzleLength = countSetBits((genotype >> 10) & 0xF);-->
            <!--this.eyeShape = countSetBits((genotype >> 14) & 0xF);-->
            <!--this.headShape = countSetBits((genotype >> 18) & 0xF);-->
            <!--this.earAngle = countSetBits((genotype >> 22) & 0xF);-->
            <!--this.constructHead();-->

            <!--return this;-->
        <!--}-->

        <!--Cat.prototype.selectElements = function() {-->
            <!--this.earEl = spriteSheet.select('.ears' + (this.earAngle + 1));-->
            <!--this.headEl = spriteSheet.select('.head' + (this.headShape + 1));-->
            <!--this.eyeEl = spriteSheet.select('.eyes' + (this.eyeShape + 1));-->
            <!--this.lineEl = spriteSheet.select('.lines' + (this.headShape + 1));-->
            <!--this.muzzleEl = spriteSheet.select('.muzzle' + (this.muzzleLength + 1));-->
            <!--this.pointEl = spriteSheet.select('.point');-->
            <!--this.tabbyEl = spriteSheet.select('.tabby');-->
            <!--this.tortieEl = spriteSheet.select('.tortie');-->
            <!--this.torbieEl = spriteSheet.select('.torbie');-->
            <!--this.whiteEl = spriteSheet.select((this.white === 2) ? '.highwhite' : '.lowwhite');-->
            <!--this.markingEl = canvas.g();-->
            <!--this.whiteMarkingEl = canvas.g();-->
            <!--this.headMask = canvas.g();-->
            <!--this.whiteMask = canvas.g(this.lineEl.clone().attr({'fill': '#fff'}));-->
            <!--this.tortieMask = canvas.g(this.tortieEl.clone().attr({'fill': '#fff'}));-->
            <!--this.eyeMask = canvas.g(this.eyeEl.select('.iris').clone().attr({'fill': "#fff"}))-->

            <!--if(this.point === 2) {-->
                <!--this.headMask.add(this.pointEl.clone().attr({'fill': '#fff'}));-->
                <!--this.markingEl.add(this.pointEl);-->
            <!--}-->
            <!--else {-->
                <!--this.headMask.add(this.lineEl.clone().attr({'fill': '#fff'}));-->
            <!--}-->
            <!--if(this.tabby > 0) {-->
                <!--this.markingEl.add(this.tabbyEl);-->
            <!--}-->
            <!--if(this.red === 1) {-->
                <!--this.markingEl.add(this.tortieEl);-->
                <!--if(this.tabby > 0) {-->
                    <!--this.markingEl.add(this.torbieEl);-->
                <!--}-->
            <!--}-->
            <!--if(this.white > 0) {-->
                <!--this.whiteMarkingEl.add(this.whiteEl);-->
            <!--}-->

            <!--this.colorElements();-->
        <!--};-->

        <!--Cat.prototype.colorElements = function() {-->
            <!--//must be called first for the colors to apply-->
            <!--this.parseColors();-->

            <!--fill(this.earEl.select(".left"), palette[this.baseColor]);-->
            <!--fill(this.earEl.select(".right"), palette[this.rightEarColor]);-->
            <!--fill(this.headEl, palette[this.headColor]);-->
            <!--fill(this.pointEl, palette[this.baseColor]);-->
            <!--fill(this.tabbyEl, palette[this.stripeColor]);-->
            <!--fill(this.tortieEl, palette[this.redColor]);-->
            <!--fill(this.torbieEl, palette[this.torbieColor]);-->
            <!--fill(this.whiteEl, palette["white"]);-->
            <!--fill(this.eyeEl.select(".iris"), palette[this.eyeColor]);-->
            <!--fill(this.muzzleEl.select(".lips"), palette[this.muzzleColor]);-->
            <!--fill(this.muzzleEl.select(".jaw"), palette[this.jawColor]);-->
        <!--};-->

        <!--Cat.prototype.parseColors = function() {-->
            <!--this.baseColor = "black";-->

            <!--if (this.red === 2) {-->
                <!--this.baseColor = "red";-->
            <!--}-->
            <!--if (this.dilute === 2) {-->
                <!--this.baseColor += "dilute";-->
            <!--}-->
            <!--if (this.tabby > 0) {-->
                <!--this.baseColor += "tabby";-->
            <!--}-->
            <!--if (this.point === 2) {-->
                <!--this.baseColor += "point";-->
            <!--}-->

            <!--this.stripeColor = this.baseColor.replace("tabby", "");-->
            <!--this.redColor = this.baseColor.replace("black", "red");-->
            <!--this.torbieColor = this.redColor.replace("tabby", "");-->
            <!--this.muzzleColor = this.baseColor;-->
            <!--this.jawColor = this.baseColor;-->
            <!--this.rightEarColor = this.baseColor;-->

            <!--if(this.red === 1) {-->
                <!--this.jawColor = this.redColor;-->
                <!--this.rightEarColor = this.redColor;-->
            <!--}-->

            <!--if(this.point === 2) {-->
                <!--this.headColor = "point";-->
            <!--}-->
            <!--else {-->
                <!--this.headColor = this.baseColor;-->
            <!--}-->

            <!--if(this.white > 0) {-->
                <!--this.muzzleColor = "white";-->
                <!--this.jawColor = "white";-->
            <!--}-->

            <!--if((this.point === 2) || (this.white === 2)) {-->
                <!--this.eyeColor = "blue";-->
            <!--}-->
            <!--else {-->
                <!--this.eyeColor = "yellow";-->
            <!--}-->
        <!--};-->

        <!--Cat.prototype.maskElements = function() {-->
            <!--this.markingEl.attr({'mask': this.headMask});-->
            <!--this.whiteMarkingEl.attr({'mask': this.whiteMask});-->
            <!--this.torbieEl.attr({'mask': this.tortieMask});-->
            <!--this.eyeEl.select(".inner").attr({'mask': this.eyeMask});-->
        <!--};-->

        <!--Cat.prototype.constructHead = function() {-->
            <!--this.svg = canvas.g().attr({'class': 'cat', 'data-genotype': this.genotype})-->
            <!--this.selectElements();-->

            <!--this.svg.append(this.earEl);-->
            <!--this.svg.append(this.headEl);-->
            <!--this.svg.append(this.markingEl);-->
            <!--this.svg.append(this.whiteMarkingEl);-->
            <!--this.svg.append(this.eyeEl);-->
            <!--this.svg.append(this.lineEl);-->
            <!--this.svg.append(this.muzzleEl);-->

            <!--this.maskElements();-->
        <!--};-->

        <!--function fill(el, fill) {-->
            <!--el.attr({'fill': fill});-->
        <!--}-->

        <!--function countSetBits(n) {-->
            <!--let count = 0;-->

            <!--while (n) {-->
                <!--count++;-->
                <!--n &= (n - 1);-->
            <!--}-->

            <!--return count;-->
        <!--}-->

        <!--function randomBetween(min, max) {-->
            <!--return Math.floor(Math.random() * (max - min + 1) + min);-->
        <!--}-->

        <!--function randBool() {-->
            <!--return randomBetween(0, 1);-->
        <!--}-->
        <!--function randPoly() {-->
            <!--var result = randomBetween(0, 2);-->
            <!--if(result === 2) {-->
                <!--result = 3;-->
            <!--}-->
            <!--return result;-->
        <!--}-->

        <!--function randomGenotype() {-->
            <!--var monogenes = 0;-->
            <!--var polygenes = 0;-->

            <!--for(var i = 0; i < 10; i++) {-->
                <!--monogenes <<= 1;-->
                <!--monogenes |= randBool();-->
            <!--}-->
            <!--for(var j = 0; j < 8; j++) {-->
                <!--polygenes <<= 2;-->
                <!--polygenes |= randPoly();-->
            <!--}-->

            <!--return monogenes | (polygenes << 10);-->
        <!--}-->

        <!--function toBinary(i, length) {-->
            <!--let binary = i.toString(2);-->
            <!--return ("0".repeat(length)).substr(binary.length) + binary;-->
        <!--}-->
    <!--})()-->
<!--</script>-->
</body>
</html>